window.onload=function(){"use strict";var t=document.querySelectorAll(".popup--link");const n=document.querySelector("body"),i=document.querySelectorAll(".lock--padding"),o=document.querySelectorAll(".lock--padding--item"),l=window.innerWidth-document.querySelector(".body").offsetWidth+"px";let a=!0;const r=500;if(0<t.length)for(let e=0;e<t.length;e++){const d=t[e];d.addEventListener("click",function(e){var t,s=d.getAttribute("href").replace("#",""),s=document.getElementById(s);if(s&&a){if(t=document.querySelector(".popup.open"))c(t,!1);else{var o=window.innerWidth-document.querySelector(".body").offsetWidth+"px";if(n.style.paddingRight=o,n.classList.add("_fixed"),a=!1,0<i.length)for(let e=0;e<i.length;e++)i[e].style.paddingRight=o;setTimeout(function(){a=!0},r)}s.classList.add("open"),s.addEventListener("click",function(e){e.target.closest(".popup__content")||c(e.target.closest(".popup"))})}e.preventDefault()})}var s=document.querySelectorAll(".popup--close");if(0<s.length)for(let e=0;e<s.length;e++){const p=s[e];p.addEventListener("click",function(e){c(p.closest(".popup")),e.preventDefault()})}function c(e,t){a&&(e.classList.remove("open"),void 0===t)&&(setTimeout(function(){if(0<i.length)for(let e=0;e<i.length;e++)i[e].style.paddingRight="0px";if(0<o.length)for(let e=0;e<o.length;e++){var t=o[e],s=parseInt(getComputedStyle(t).right)-parseInt(l)+"px";t.style.right=s}n.style.paddingRight="0px",n.classList.remove("_fixed")},r),a=!1,setTimeout(function(){a=!0},r))}document.addEventListener("keydown",function(e){27===e.which&&c(document.querySelectorAll(".popup.open"))})},$(function(){$(window).width();let s=$(".body"),t=$("#header-fix");$(window).scroll(function(e){400<$(window).scrollTop()?(t.addClass("_open"),t.removeClass("_close")):(t.removeClass("_open"),t.addClass("_close"),n.hasClass("_active")&&l())});const o=$(".js-open-about-email"),n=$("#_in-mark"),i=$(".phone-block-dropdown");function l(){n.toggleClass("_active"),i.toggleClass("_active"),o.toggleClass("_active")}o.on("click",l),$(".js-city-select").select2({templateSelection:function(e){return e.id?"<img class='city-block__icon' src='images/icon/location.svg'/><span class='result-select'>"+e.text+"</span>":e.text},enoughRoomBelow:!0,enoughRoomAbove:!1,escapeMarkup:function(e){return e}}),$(".js-city-select").on("select2:open",function(e){$(".select2-search__field").attr("placeholder","Найти город"),$(".city-block").addClass("_active"),$(".select2-container:not(.select2)").addClass("_city-select"),$(".select2-dropdown p").length||$(".select2-dropdown").prepend('<p class="text _added-text-city">Выберите город</p>')}),$(".js-city-select").on("select2:close",function(e){$(".city-block").removeClass("_active")});const e=$("#mobMenu");$(".js-toggle-mob-menu").on("click",function(){e.toggleClass("_open"),s.toggleClass("_fixed")});const a=$(".js-search-toggle"),r=$("#search-block");function c(){r.toggleClass("_open"),s.toggleClass("_fixed")}a.on("click",c);$(".js-mob-navigation").slinky({title:!0}),document.querySelectorAll(".button").forEach(e=>{e.addEventListener("mouseover",function(e){const t=Math.max(this.offsetWidth,this.offsetHeight),s=e.offsetX-t/2,o=e.offsetY-t/2,n=document.createElement("span");n.className="wave",n.style.cssText=`width:${t}px;height:${t}px;top:${o}px;left:${s}px`,this.appendChild(n),setTimeout(()=>n.remove(),700)})}),new Swiper(".js-promo-slider",{loop:!0,navigation:{nextEl:".promo-slider__arrow_next",prevEl:".promo-slider__arrow_prev"},pagination:{el:".promo-slider__pagination",type:"bullets",clickable:!0}}),new Swiper(".js-promo-info-slider",{slidesPerView:1,spaceBetween:20,pagination:{el:".promo-info-slider__pagination",type:"bullets"},breakpoints:{577:{slidesPerView:2,spaceBetween:20},1025:{slidesPerView:4,spaceBetween:0}}}),new Swiper(".js-slider-services",{slidesPerView:1,spaceBetween:20,pagination:{el:".services__pagination",type:"bullets"},navigation:{nextEl:".services__arrow_next",prevEl:".services__arrow_prev"},breakpoints:{577:{slidesPerView:2,spaceBetween:20,grid:{rows:1}},769:{slidesPerView:3,spaceBetween:30,grid:{rows:1}},1025:{slidesPerView:4,spaceBetween:0,grid:{rows:2}}}}),new Swiper(".js-recommendation-slider",{slidesPerView:1,spaceBetween:20,breakpoints:{769:{slidesPerView:2,spaceBetween:30},1025:{slidesPerView:2,spaceBetween:40}},navigation:{nextEl:".recommendation__arrow_next",prevEl:".recommendation__arrow_prev"}}),new Swiper(".js-recommendation-slider-sidebar",{slidesPerView:1,spaceBetween:20,navigation:{nextEl:".recommendation__arrow_next",prevEl:".recommendation__arrow_prev"}}),$(document).on("click",".questions__btn",function(e){e.preventDefault(),$(this).parents(".questions__item").toggleClass("_active").find(".questions__text").slideToggle()}),new Swiper(".js-reviews-slider",{slidesPerView:1,spaceBetween:0,autoHeight:!0,breakpoints:{769:{slidesPerView:2,spaceBetween:0,autoHeight:!1}},navigation:{nextEl:".reviews__arrow_next",prevEl:".reviews__arrow_prev"}});const d=$(".js-toggle-fly-basket"),p=$("#basket-fly"),g=($(document).on("click",".js-toggle-fly-basket",function(e){p.toggleClass("_open"),s.toggleClass("_fixed")}),$(".js-catalog-link"));$(".js-catalog-close");const _=$("#catalog-fly");$(document).on("click",".js-catalog-link",function(e){e.preventDefault(),$(".js-catalog-link").removeClass("_active"),$(this).addClass("_active"),$(".catalog-fly__box").removeClass("_active"),$($(this).attr("href")).addClass("_active"),_.addClass("_open"),s.addClass("_fixed")}),$(document).on("click",".js-catalog-close",function(e){_.removeClass("_open"),s.removeClass("_fixed"),$(".js-catalog-link").removeClass("_active")}),$(document).on("click",".js-sidebar-link",function(e){e.preventDefault(),$(this).hasClass("_open")?($(this).removeClass("_open"),$(this).parents(".sidebar__item").find(".sidebar__sublist").slideUp()):($(".js-sidebar-link").removeClass("_open"),$(".sidebar__sublist").slideUp(),$(this).addClass("_open"),$(this).parents(".sidebar__item").find(".sidebar__sublist").slideDown())}),$("._js-open").addClass("_open"),$("._js-open").parents(".sidebar__item").find(".sidebar__sublist").slideDown(),$(document).on("click",".js-vacancy",function(e){e.preventDefault(),$(this).toggleClass("_open"),$(this).parents(".vacancy__list-item").toggleClass("_open").find(".vacancy__subitem-block").slideToggle()});new Swiper(".js-contact-page-slider",{slidesPerView:1,grid:{rows:3,fill:"row"},navigation:{nextEl:".reviews__arrow_next",prevEl:".reviews__arrow_prev"},breakpoints:{769:{slidesPerView:4},1025:{slidesPerView:5}}});$(document).mouseup(function(e){o.is(e.target)||0!==o.has(e.target).length||i.is(e.target)||0!==i.has(e.target).length||i.hasClass("_active")&&l();var t=$(".search__wrap");t.is(e.target)||0!==t.has(e.target).length||a.is(e.target)||0!==a.has(e.target).length||r.hasClass("_open")&&c();!$("#basket-fly").hasClass("_open")||p.is(e.target)||0!==p.has(e.target).length||d.is(e.target)||0!==d.has(e.target).length||(p.removeClass("_open"),s.removeClass("_fixed"));t=$("#catalog-fly");!t.hasClass("_open")||t.is(e.target)||0!==t.has(e.target).length||g.is(e.target)||0!==g.has(e.target).length||(t.removeClass("_open"),s.removeClass("_fixed"),$(".js-catalog-link").removeClass("_active"))})});