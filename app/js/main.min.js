window.onload=function(){"use strict";var t=document.querySelectorAll(".popup--link");const c=document.querySelector("body"),l=document.querySelectorAll(".lock--padding"),n=document.querySelectorAll(".lock--padding--item"),s=window.innerWidth-document.querySelector(".body").offsetWidth+"px";let i=!0;const d=500;if(0<t.length)for(let e=0;e<t.length;e++){const r=t[e];r.addEventListener("click",function(e){var t,o=r.getAttribute("href").replace("#",""),o=document.getElementById(o);if(o&&i){if(t=document.querySelector(".popup.open"))a(t,!1);else{var n=window.innerWidth-document.querySelector(".body").offsetWidth+"px";if(c.style.paddingRight=n,c.classList.add("_fixed"),i=!1,0<l.length)for(let e=0;e<l.length;e++)l[e].style.paddingRight=n;setTimeout(function(){i=!0},d)}o.classList.add("open"),o.addEventListener("click",function(e){e.target.closest(".popup__content")||a(e.target.closest(".popup"))})}e.preventDefault()})}var o=document.querySelectorAll(".popup--close");if(0<o.length)for(let e=0;e<o.length;e++){const p=o[e];p.addEventListener("click",function(e){a(p.closest(".popup")),e.preventDefault()})}function a(e,t){i&&(e.classList.remove("open"),void 0===t)&&(setTimeout(function(){if(0<l.length)for(let e=0;e<l.length;e++)l[e].style.paddingRight="0px";if(0<n.length)for(let e=0;e<n.length;e++){var t=n[e],o=parseInt(getComputedStyle(t).right)-parseInt(s)+"px";t.style.right=o}c.style.paddingRight="0px",c.classList.remove("_fixed")},d),i=!1,setTimeout(function(){i=!0},d))}document.addEventListener("keydown",function(e){27===e.which&&a(document.querySelectorAll(".popup.open"))})},$(function(){$(window).width(),$(".body");const t=$(".js-open-about-email"),e=$("#_in-mark"),o=$("#phone-block-dropdown");function n(){e.toggleClass("_active"),o.toggleClass("_active"),t.toggleClass("_active")}t.on("click",n),$(".js-city-select").select2({templateSelection:function(e){return e.id?"<img class='city-block__icon' src='images/icon/location.svg'/><span class='result-select'>"+e.text+"</span>":e.text},enoughRoomBelow:!0,enoughRoomAbove:!1,escapeMarkup:function(e){return e}}),$(".js-city-select").on("select2:open",function(e){$(".select2-search__field").attr("placeholder","Найти город"),$(".city-block").addClass("_active"),$(".select2-container:not(.select2)").addClass("_city-select"),$(".select2-dropdown p").length||$(".select2-dropdown").prepend('<p class="text _added-text-city">Выберите город</p>')}),$(".js-city-select").on("select2:close",function(e){$(".city-block").removeClass("_active")}),$(document).mouseup(function(e){t.is(e.target)||0!==t.has(e.target).length||o.is(e.target)||0!==o.has(e.target).length||o.hasClass("_active")&&n()}),document.querySelectorAll(".button").forEach(e=>{e.addEventListener("mouseover",function(e){const t=Math.max(this.offsetWidth,this.offsetHeight),o=e.offsetX-t/2,n=e.offsetY-t/2,c=document.createElement("span");c.className="wave",c.style.cssText=`width:${t}px;height:${t}px;top:${n}px;left:${o}px`,this.appendChild(c),setTimeout(()=>c.remove(),500)})})});