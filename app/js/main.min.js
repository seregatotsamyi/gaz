window.onload=function(){"use strict";var t=document.querySelectorAll(".popup--link");const s=document.querySelector("body"),l=document.querySelectorAll(".lock--padding"),c=document.querySelectorAll(".lock--padding--item"),i=window.innerWidth-document.querySelector(".body").offsetWidth+"px";let n=!0;const a=500;if(0<t.length)for(let e=0;e<t.length;e++){const d=t[e];d.addEventListener("click",function(e){var t=d.getAttribute("href").replace("#","");!function(e){{var t;e&&n&&((t=document.querySelector(".popup.open"))?r(t,!1):function(){var t=window.innerWidth-document.querySelector(".body").offsetWidth+"px";if(s.style.paddingRight=t,s.classList.add("_fixed"),n=!1,0<l.length)for(let e=0;e<l.length;e++){const o=l[e];o.style.paddingRight=t}setTimeout(function(){n=!0},a)}(),e.classList.add("open"),e.addEventListener("click",function(e){e.target.closest(".popup__content")||r(e.target.closest(".popup"))}))}}(document.getElementById(t)),e.preventDefault()})}var o=document.querySelectorAll(".popup--close");if(0<o.length)for(let e=0;e<o.length;e++){const p=o[e];p.addEventListener("click",function(e){r(p.closest(".popup")),e.preventDefault()})}function r(e,t){n&&(e.classList.remove("open"),void 0===t&&(setTimeout(function(){if(0<l.length)for(let e=0;e<l.length;e++){const o=l[e];o.style.paddingRight="0px"}if(0<c.length)for(let e=0;e<c.length;e++){const n=c[e];var t=parseInt(getComputedStyle(n).right)-parseInt(i)+"px";n.style.right=t}s.style.paddingRight="0px",s.classList.remove("_fixed")},a),n=!1,setTimeout(function(){n=!0},a)))}document.addEventListener("keydown",function(e){27===e.which&&r(document.querySelectorAll(".popup.open"))})},$(function(){$(window).width();let e=$(".body");const o=$(".js-open-about-email"),t=$("#_in-mark"),n=$("#phone-block-dropdown");function s(){t.toggleClass("_active"),n.toggleClass("_active"),o.toggleClass("_active")}o.on("click",s),$(".js-city-select").select2({templateSelection:function(e){return e.id?"<img class='city-block__icon' src='images/icon/location.svg'/><span class='result-select'>"+e.text+"</span>":e.text},enoughRoomBelow:!0,enoughRoomAbove:!1,escapeMarkup:function(e){return e}}),$(".js-city-select").on("select2:open",function(e){$(".select2-search__field").attr("placeholder","Найти город"),$(".city-block").addClass("_active"),$(".select2-container:not(.select2)").addClass("_city-select"),$(".select2-dropdown p").length||$(".select2-dropdown").prepend('<p class="text _added-text-city">Выберите город</p>')}),$(".js-city-select").on("select2:close",function(e){$(".city-block").removeClass("_active")}),$(document).mouseup(function(e){o.is(e.target)||0!==o.has(e.target).length||n.is(e.target)||0!==n.has(e.target).length||n.hasClass("_active")&&s();const t=$(".search__wrap");t.is(e.target)||0!==t.has(e.target).length||i.is(e.target)||0!==i.has(e.target).length||a.hasClass("_open")&&r()});const l=$("#mobMenu"),c=$(".js-toggle-mob-menu");c.on("click",function(){l.toggleClass("_open"),e.toggleClass("_fixed")});const i=$(".js-search-toggle"),a=$("#search-block");function r(){a.toggleClass("_open"),e.toggleClass("_fixed")}i.on("click",r);$(".js-mob-navigation").slinky({title:!0});const d=document.querySelectorAll(".button");d.forEach(e=>{e.addEventListener("mouseover",function(e){const t=Math.max(this.offsetWidth,this.offsetHeight),o=e.offsetX-t/2,n=e.offsetY-t/2,s=document.createElement("span");s.className="wave",s.style.cssText=`width:${t}px;height:${t}px;top:${n}px;left:${o}px`,this.appendChild(s),setTimeout(()=>s.remove(),700)})});new Swiper(".js-promo-slider",{loop:!0,navigation:{nextEl:".promo-slider__arrow_next",prevEl:".promo-slider__arrow_prev"},pagination:{el:".promo-slider__pagination",type:"bullets",clickable:!0}})});